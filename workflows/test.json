{
    "define": {
        "$work1": [ "PrintMessage",  { "message": "foo"  }  ],
        "$work2": [ "PrintMessage",  { "message": "hello"  }  ],
        "$work3": [ "PrintMessage",  { "message": "world"  }  ],
        "$work4": [ "PrintMessage",  { "message": "done"  }  ]
    },
    "repeatFlow": {
        "named": "print foo 3 times",
        "repeat": "$work1",
        "times": 3,
        "then": "conditionalFlow"
    },
    "parallelFlow": {
        "named": "print 'hello' and 'world' in parallel",
        "execute": [ "$work2", "$work3" ]
    },
    "conditionalFlow": {
        "then": "parallelFlow",
        "named": "run parallelFlow again and then print 'done'",
        "when": "Completed",
        "execute": "$work4",
        "otherwise": "$work5"
    },
    "sequentialFlow": {
        "named": "run repeatFlow and then run conditionalFlow",
        "then": "conditionalFlow"
    }
}